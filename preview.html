<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RealReport Print Preview</title>
    <link rel="shortcut icon" href="#">

    <link href="css/preview.css" rel="stylesheet">
    <!-- í•˜ì´ì°¨íŠ¸ì˜ ê¸°ë³¸ ìŠ¤íƒ€ì¼ ë³€ê²½í•˜ë ¤ë©´ ì•„ë˜ íŒŒì¼ì„ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤. -->
    <!-- <link href='js/highcharts/highcharts.css' rel='stylesheet' /> -->
    <link href='js/realreport/realreport.css' rel='stylesheet' />
    <script type="text/javascript" src="js/highcharts/highcharts.js"></script>
    <script type="text/javascript" src="js/highcharts/highcharts-more.js"></script>
    <script type="text/javascript" src="js/pdfkit.js"></script>
    <script type="text/javascript" src="datas/salary-data.js"></script>
    <script type="text/javascript" src="forms/salary.js"></script>
    <script type="text/javascript" src='js/realreport/realreport.js'></script>
</head>
<body>
    <div class="root">
        <div class="container">
            <div class="main">
                <div class="main-content">
                    <div class="preview-toolbar">
                        <div class="toolbar-scrolller">
                            <div class="toolbar-left">
                                <div class="toolbar-items">
                                    <a class="toolbar-icon-button" onclick="onClickZoomOut10();">
                                        <div class="toolbar-icon icon preview-zoomout-png"></div>
                                    </a>
                                    <input part="input" type="text" value="100%" id="inputZoomScale" aria-label="Zoom Scale">
                                    <a class="toolbar-icon-button" onclick="onClickZoomIn10();">
                                        <div class="toolbar-icon icon preview-zoomin-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickZoom100();">
                                        <div class="toolbar-icon icon preview-100-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickFitToWidth();">
                                        <div class="toolbar-icon icon preview-fit-to-width-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickFitToHeight();">
                                        <div class="toolbar-icon icon preview-fit-to-height-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickFitToPage();">
                                        <div class="toolbar-icon icon preview-fit-to-page-png"></div>
                                    </a>
                                </div>
                            </div>
                            <div class="toolbar-center">
                                <div class="toolbar-items">
                                    <a class="toolbar-icon-button" onclick="onClickFirstPage();">
                                        <div class="toolbar-icon icon preview-first-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickPrevPage();">
                                        <div class="toolbar-icon icon preview-prev-png"></div>
                                    </a>
                                    <div class="toolbar-item">
                                        <input part="input" type="text" value="1" id="inputPageNumber" aria-label="Page number" >
                                        <span style="margin: 0 4px;">/</span>
                                        <span style="margin: 0 4px;" id="totalpage">1</span>
                                    </div>
                                    <a class="toolbar-icon-button" onclick="onClickNextPage();">
                                        <div class="toolbar-icon icon preview-next-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickLastPage();">
                                        <div class="toolbar-icon icon preview-last-png"></div>
                                    </a>
                                </div>
                            </div>
                            <div class="toolbar-right">
                                <div class="toolbar-items">
                                    <a class="toolbar-icon-button" onclick="onClickPrintPopup()">
                                        <div class="toolbar-icon icon preview-print-png"></div>
                                    </a>
                                </div>
                                <span class="vertical-separator"></span>
                                <div class="toolbar-items">
                                    <a class="toolbar-icon-button" onclick="onClickPrintHiddenFrame()">
                                        <div class="toolbar-icon icon preview-print-png"></div>
                                    </a>
                                </div>
                                <span class="vertical-separator"></span>
                                <div class="toolbar-items">
                                    <a class="toolbar-icon-button" onclick="onClickExportPdf();">
                                        <div class="toolbar-icon icon preview-pdf-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickExportDoc('hwp');">
                                        <div class="toolbar-icon icon preview-hwp-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickExportDoc('docx');">
                                        <div class="toolbar-icon icon preview-docx-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickExportDoc('pptx');">
                                        <div class="toolbar-icon icon preview-pptx-png"></div>
                                    </a>
                                </div>
                                <span class="vertical-separator"></span>
                                <div class="toolbar-items">
                                    <a class="toolbar-icon-button" onclick="onClickExportImage('png');">
                                        <div class="toolbar-icon icon preview-png-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickExportImage('jpeg');">
                                        <div class="toolbar-icon icon preview-jpeg-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickExportImage('gif');">
                                        <div class="toolbar-icon icon preview-gif-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickExportImage('tiff', 'g3');">
                                        <div class="toolbar-icon icon preview-tiffg3-png"></div>
                                    </a>
                                    <a class="toolbar-icon-button" onclick="onClickExportImage('tiff', 'g4');">
                                        <div class="toolbar-icon icon preview-tiffg4-png"></div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="scroller">
                        <div id="realreport"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        // ì•„ë˜ ë¼ì´ì„ ìŠ¤ëŠ” ìœ íš¨ê¸°ê°„ 2023ë…„ 6ì›” 1ì¼ ê¹Œì§€ localhost, 127.0.0.1 ë˜ëŠ” real-report.com ë„ë©”ì¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¼ì´ì„ ìŠ¤ ì…ë‹ˆë‹¤.
        var realReportLic = 'upVcPE+wPOkcfqywe+clVN+UVTCvO3is+83EYTz6U/sTXJR8Yw8Y0WXyjOMqbrgvr3+iyFPC2UvWntFnlQAvG/WiN+dO0JtjdX/TRvH17asONaYpJP0FO3omxwgpdzq2r5NVw6J+rJo1/Z20sDsGHv75qiwBaTr7';
        // RealReportê°€ ìœ„ì¹˜í•  ì»¨í…Œì´ë„ˆ ìš”ì†Œì˜ id
        var containerId = 'realreport';
        // RealReport Viewer ê°ì²´ ë³€ìˆ˜
        var viewer;

        //--------------------------------------------------------------------------------------------------
        // public methods
        //--------------------------------------------------------------------------------------------------

        /**
         * ë¦¬í¬íŠ¸ ì»¨í…Œì´ë„ˆ ë° viewer ê°ì²´ë¥¼ ì´ˆê¸°í™” í•˜ëŠ” í•¨ìˆ˜ 
         * */
        var clearReport = function() {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            delete viewer;
        }
        
        const setHtml = function(id, value, prefix, surfix) {
            if (id) {
                const el = document.getElementById(id);
                if (el) el.innerHTML = `${prefix}${value}${surfix}`;
            }
        }

         const setTotalPage = function(id) {
            if (viewer) {
                setHtml(id, viewer.pageCount, '', '');
            }
        }

        /**
         * ë¦¬í¬íŠ¸ ë¯¸ë¦¬ë³´ê¸° ì‹¤í–‰
         * */
        var previewReport = function(reports) {
            clearReport();
            // ì—¬ëŸ¬ ì–‘ì‹ì„ í•˜ë‚˜ì˜ ë¯¸ë¦¬ë³´ê¸°ë¡œ ì¶œë ¥ í•˜ê¸° ìœ„í•´ report ê°ì²´ë¥¼ ë³€ìˆ˜ë¡œ ë„˜ê²¨ì¤€ë‹¤.
            if (Array.isArray(reports) && reports.length > 1) {
                // ì—¬ëŸ¬ ì–‘ì‹ ë¦¬í¬íŠ¸ëŠ” ReportCompositeViewer ê°ì²´ë¥¼ ì´ìš©í•œë‹¤.
                // ìƒì„± ì¸ìëŠ” ì»¨í…Œì´ë„ˆIdì™€ reportê°ì²´
                // ë„ì›€ë§ ì°¸ì¡° ğŸ’¡ https://real-report.com/docs/guide/viewer/composite-report
                viewer = new RealReport.ReportCompositeViewer(containerId, reports);
            } else {
                // ë‹¨ì¼ ì–‘ì‹ ë¦¬í¬íŠ¸ëŠ” ReportViewer ê°ì²´ë¥¼ ì´ìš©í•œë‹¤.
                // ìƒì„±ì¸ìëŠ” ì»¨í…Œì´ë„ˆId, ë¦¬í¬íŠ¸ ì–‘ì‹, ë°ì´í„°
                // ë„ì›€ë§ ì°¸ì¡° ğŸ’¡ https://real-report.com/docs/guide/viewer/preview
                viewer = new RealReport.ReportViewer(containerId, reports[0].form, reports[0].dataSet);
            }
            
            // async: trueì¸ ê²½ìš° ë§¤ í˜ì´ì§€ê°€ ë¯¸ë¦¬ë³´ê¸°ë ë•Œ ë§ˆë‹¤ í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜
            const pageCallback = (ctx, page, pageNo) => {
                console.log(`${pageNo} í˜ì´ì§€ ë¯¸ë¦¬ë³´ê¸° ì™„ë£Œ`);
            }

            // async: trueì¸ ê²½ìš° ëª¨ë“  í˜ì´ì§€ì˜ ë¯¸ë¦¬ë³´ê¸°ê°€ ì™„ë£Œë ë•Œ í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜
            const endCallback = (ctx, pages) => {
                console.log('ëª¨ë“  í˜ì´ì§€ ë¯¸ë¦¬ë³´ê¸° ì™„ë£Œ');
                setTotalPage('totalpage');
                setZoomScaleInputValue('inputZoomScale');
                setPageInputValue('inputPageNumber');
            }

            // ë¯¸ë¦¬ë³´ê¸° í•¨ìˆ˜ preview() í˜¸ì¶œ
            // í˜¸ì¶œ ì¸ìëŠ” PreviewOptionsë¡œ ìì„¸í•œ ì†ì„±ì€ ë„ì›€ë§ ì°¸ì¡°
            // ğŸ’¡ https://real-report.com/docs/api/viewer/types-report-viewer#previewoptions
            if (viewer) viewer.preview({
                async: true,
                pageMark: false,
                noScroll: true,
                callback: pageCallback,
                endCallback: endCallback,
            });
            
            return viewer;
        }

        /**
         * RealGrid ë¦¬í¬íŠ¸ ë¯¸ë¦¬ë³´ê¸° ì‹¤í–‰
         * ë„ì›€ë§ ì°¸ì¡° ğŸ’¡ https://real-report.com/docs/guide/grid-report/preview
         * */        
        var previewGridReport = function(grid, options) {
            clearReport();

            if (grid) {
                viewer = new RealReport.GridReportViewer(containerId, grid, options);
            }

            const pageCallback = (ctx, page, pageNo) => {
                console.log(`${pageNo} í˜ì´ì§€ ë¯¸ë¦¬ë³´ê¸° ì™„ë£Œ`);
            }

            const endCallback = (ctx, pages) => {
                console.log('ëª¨ë“  í˜ì´ì§€ ë¯¸ë¦¬ë³´ê¸° ì™„ë£Œ');
                setTotalPage('totalpage');
                setPageInputValue('inputPageNumber');
                viewer.fitToWidth();
                setZoomScaleInputValue('inputZoomScale');
            }

            if (viewer) viewer.preview({
                async: true,
                pageMark: false,
                noScroll: true,
                callback: pageCallback,
                endCallback,
            });

            return viewer;
        }

        /**
         * ì¸ì‡„ë¥¼ ìœ„í•´ ë³„ë„ í˜ì´ì§€ë¡œ ë¯¸ë¦¬ë³´ê¸° í•˜ëŠ” ë°©ë²•
         * ë„ì›€ë§ ì°¸ì¡° ğŸ’¡ https://real-report.com/docs/guide/viewer/print
         * */
        var printPopup = function() {
            if (viewer) {
                const w = Math.min(screen.width, 1024);
                const h = Math.min(screen.height, 768);
                const x = (screen.width - w) / 2;
                const y = (screen.height - h) / 2;
                const win = window.open('./print.html', 'print', "left=" + x + ",top=" + y + ",width=" + w + ",height=" + h);

                // í˜ì´ì§€ê°€ ë¡œë“œëœ ë‹¤ìŒ ì¦‰ì‹œ í”„ë¦°íŠ¸ ì‹¤í–‰
                win.addEventListener('DOMContentLoaded', function (e) {
                    const dom = win.document.getElementById('realreport');
                    dom.innerHTML = viewer.reportHtml;
                    // ì‹¤ì œ í”„ë¦°íŠ¸ í•¨ìˆ˜ í˜¸ì¶œ (ì•„ë˜ ì£¼ì„ ì œê±°)
                    win.print();
                });

                // í”„ë¦°íŠ¸í•œ ë‹¤ìŒ íŒì—…ì°½ ë‹«ê¸°
                win.addEventListener('afterprint', function (e) {
                    win.close();
                });
            }
        }            


        //--------------------------------------------------------------------------------------------------
        // ì´ë²¤íŠ¸ í•¸ë“¤ë§
        //--------------------------------------------------------------------------------------------------

        /**
         * z ë¹„ìœ¨ ë§Œí¼ í™•ëŒ€ ë˜ëŠ” ì¶•ì†Œ
         * ğŸ’¡ https://real-report.com/docs/guide/viewer/zoom
         * */
        const onClickZoom = (z) => {
            if (viewer) {
                viewer.zoom = z;
            }
        }

        /**
         * ë¯¸ë¦¬ë³´ê¸° í™”ë©´ 10% í™•ëŒ€
         * ğŸ’¡ https://real-report.com/docs/api/viewer/reportviewer#zoom
         * */
         const onClickZoomIn10 = function() {
            if (viewer) {
                viewer.zoomIn();
                setZoomScaleInputValue('inputZoomScale');
            }
        }

        /**
         * ë¯¸ë¦¬ë³´ê¸° í™”ë©´ 10% ì¶•ì†Œ
         * ğŸ’¡ https://real-report.com/docs/api/viewer/reportviewer#zoomout
         * */
         const onClickZoomOut10 = function() {
            if (viewer) {
                viewer.zoomOut();
                setZoomScaleInputValue('inputZoomScale');
            }
        }

        /**
         * ë¯¸ë¦¬ë³´ê¸° í™”ë©´ 1:1 ë¹„ìœ¨
         * ğŸ’¡ https://real-report.com/docs/api/viewer/reportviewer#zoomout
         * */
        const onClickZoom100 = function() {
            if (viewer) {
                viewer.zoom = 1;
                setZoomScaleInputValue('inputZoomScale');
            }
        }

        /**
         * ë¯¸ë¦¬ë³´ê¸° í˜ì´ì§€ í¬ê¸°ë¥¼ ì»¨í…Œì´ë„ˆ ë†’ì´ì— ë§ê²Œ ì¡°ì •
         * ğŸ’¡ https://real-report.com/docs/api/viewer/reportviewer#fittoheight
         * */        
        const onClickFitToHeight = function() {
            if (viewer) {
                viewer.fitToHeight();
                setZoomScaleInputValue('inputZoomScale');
            }
        }

        /**
         * ë¯¸ë¦¬ë³´ê¸° í˜ì´ì§€ í¬ê¸°ë¥¼ ì»¨í…Œì´ë„ˆ ë„ˆë¹„ì— ë§ê²Œ ì¡°ì •
         * ğŸ’¡ https://real-report.com/docs/api/viewer/reportviewer#fittowidth
         * */        
        const onClickFitToWidth = function() {
            if (viewer) {
                viewer.fitToWidth();
                setZoomScaleInputValue('inputZoomScale');
            }
        }

        /**
         * ë¯¸ë¦¬ë³´ê¸° í˜ì´ì§€ í¬ê¸°ë¥¼ ì»¨í…Œì´ë„ˆ ë„ˆë¹„ì™€ ë†’ì´ì— ë§ê²Œ ì¡°ì •
         * ğŸ’¡ https://real-report.com/docs/api/viewer/reportviewer#fittopage
         * */
        const onClickFitToPage = function() {
            if (viewer) {
                viewer.fitToPage();
                setZoomScaleInputValue('inputZoomScale');
            }
        }

        /**
         * ì²« ë²ˆì§¸ í˜ì´ì§€ë¡œ ì´ë™
         * ğŸ’¡ https://real-report.com/docs/api/viewer/reportviewer#first
         * */
        const onClickFirstPage = function() {
            if (viewer) {
                viewer.first();
                setPageInputValue('inputPageNumber');
            }
        }

        /**
         * ë§ˆì§€ë§‰ í˜ì´ì§€ë¡œ ì´ë™
         * ğŸ’¡ https://real-report.com/docs/api/viewer/reportviewer#last
         * */
        const onClickLastPage = function() {
            if (viewer) {
                viewer.last();
                setPageInputValue('inputPageNumber');
            }
        }

        /**
         * ì´ì „ í˜ì´ì§€ë¡œ ì´ë™
         * ğŸ’¡ https://real-report.com/docs/api/viewer/reportviewer#prev
         * */
        const onClickPrevPage = function() {
            if (viewer) {
                viewer.prev();
                setPageInputValue('inputPageNumber');
            }
        }

        /**
         * ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™
         * ğŸ’¡ https://real-report.com/docs/api/viewer/reportviewer#first
         * */
        const onClickNextPage = function() {
            if (viewer) {
                viewer.next();
                setPageInputValue('inputPageNumber');
            }
        }

        /**
         * PDF ë‚´ë³´ë‚´ê¸°
         * ğŸ’¡ https://real-report.com/docs/guide/viewer/export#pdf-%EB%82%B4%EB%B3%B4%EB%82%B4%EA%B8%B0
         * */
        const onClickExportPdf = function() {
            const zoomSclae = viewer.zoom
            base64convert('/js/pdffonts/malgun.ttf', true).then(regularFont => {
                base64convert('/js/pdffonts/malgunbd.ttf', true).then(async boldFont => {
                    const fonts = [{
                        name: 'regular',
                        content: regularFont,
                        style: 'normal',
                        weight: 'normal',
                    },
                    {
                        name: 'bold',
                        content: boldFont,
                        style: 'normal',
                        weight: 'bold',
                    }];
            
                    if (viewer) {
                        const options = {
                            fonts, 
                            filename: 'sample-pdf-filename.pdf',
                            preview: false,
                            // ownerPassword: '!QAZXSW2', // ì†Œìœ ì ì•”í˜¸
                            // userPassword: '1qazxsw2', // ì‚¬ìš©ì ì•”í˜¸
                            permissions: {
                                printing: 'highResolution', // 'lowResolution' | 'highResolution' ì¸ì‡„ í—ˆìš© ì—¬ë¶€
                                modifying:  true, // íŒŒì¼ ìˆ˜ì • í—ˆìš© ì—¬ë¶€
                                copying: true, // í…ìŠ¤íŠ¸ ë˜ëŠ” ê·¸ë˜í”½ ë³µì‚¬ í—ˆìš© ì—¬ë¶€
                                annotating: true, // ì£¼ì„ ë° ì–‘ì‹ ì‘ì„± í—ˆìš© ì—¬ë¶€
                                fillingForms: true, // ì–‘ì‹ ì‘ì„± ë° ì„œëª… í—ˆìš© ì—¬ë¶€
                                contentAccessibility: true, // ì ‘ê·¼ì„±ì„ ìœ„í•œ í…ìŠ¤íŠ¸ ë³µì‚¬ í—ˆìš© ì—¬ë¶€
                                documentAssembly: true, 
                            },
                            pdfVersion: '1.7ext3'  // '1.3' | '1.4' | '1.5' | '1.6' | '1.7' | '1.7ext3'
                        }
                        viewer.zoom = 1
                        viewer.exportPdf(options)
                        viewer.zoom = zoomSclae
                    }
                });
            });
        }

        /**
         * HWP, DOCX, PPTX ë¬¸ì„œ ë‚´ë³´ë‚´ê¸°
         * ğŸ’¡ https://real-report.com/docs/guide/viewer/export#%EB%AC%B8%EC%84%9C-%EB%82%B4%EB%B3%B4%EB%82%B4%EA%B8%B0
         * */        
        const onClickExportDoc = function(type) {
            if (viewer) {
                viewer.exportDocument({ type });
            }
        }

        /**
         * PNG, JPEG, GIF, TIF, TIFF ì´ë¯¸ì§€ ë‚´ë³´ë‚´ê¸° í•¨ìˆ˜
         * ğŸ’¡ https://real-report.com/docs/guide/viewer/export#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%82%B4%EB%B3%B4%EB%82%B4%EA%B8%B0
         * */        
        const onClickExportImage = function(type, encoding, fileName) {
            if (viewer) {
                var options = { type };
                if (encoding) options.tiff = { encoding };
                if (fileName) options.fileName = fileName;
                viewer.exportImage(options);
            }
        }

        /**
         * ìˆ¨ê²¨ì§„ iFrameì„ ì´ìš©í•´ ë¯¸ë¦¬ë³´ê¸° ìƒíƒœì—ì„œ ë°”ë¡œ ì¶œë ¥
         * ğŸ’¡ https://real-report.com/docs/guide/viewer/print#%EC%88%A8%EA%B2%A8%EC%A7%84-iframe-%EC%9D%B4%EC%9A%A9
         * */        
        const onClickPrintHiddenFrame = function() {
            if (viewer) {
                function closePrint () {
                    document.body.removeChild(this.__container__);
                }
                
                function setPrint () {
                    this.contentWindow.__container__ = this;
                    this.contentWindow.onbeforeunload = closePrint;
                    this.contentWindow.onafterprint = closePrint;
                    const dom = this.contentWindow.document.getElementById('realreport');
                    dom.innerHTML = viewer.reportHtml;

                    setTimeout(() => {
                        this.contentWindow.focus(); // Required for IE
                        this.contentWindow.print();                
                    }, 1);
                }
                
                function printPage (sURL) {
                    var oHideFrame = document.createElement("iframe");
                    oHideFrame.onload = setPrint;
                    oHideFrame.style.position = "";
                    oHideFrame.style.right = "0";
                    oHideFrame.style.bottom = "0";
                    oHideFrame.style.width = "0";
                    oHideFrame.style.height = "0";
                    oHideFrame.style.border = "0";
                    oHideFrame.src = sURL;
                    document.body.appendChild(oHideFrame);
                }

                printPage('./print.html');   
            }
        }

        const onClickPrintPopup = function() {
            printPopup();
        }
        

        //--------------------------------------------------------------------------------------------------
        // private methods
        //--------------------------------------------------------------------------------------------------

        const zoom = document.getElementById('inputZoomScale');
        zoom.addEventListener('change', (e) => {
            let zoom = e.target.value;
            if (zoom.endsWith('%')) zoom = zoom.replace('%', '');
            if (!isNaN(zoom)) {
                viewer.zoom = zoom / 100;
                setZoomScaleInputValue('inputZoomScale');
            }
        })

        const page = document.getElementById('inputPageNumber');
        page.addEventListener('change', (e) => {
            const page = e.target.value;
            if (!isNaN(page)) {
                viewer.page = page;
                setPageInputValue('inputPageNumber');
            }
        })

        const setInputValue = function(id, value, prefix, surfix) {
            if (id) {
                const input = document.getElementById(id);
                if (input) input.value = `${prefix||''}${value}${surfix||''}`;
            }
        }

        const setZoomScaleInputValue = function(id) {
            setInputValue(id, Math.trunc(viewer.zoom * 100), '', '%');
        }

        const setPageInputValue = function(id) {
            if (viewer) {
                setInputValue(id, viewer.page);
            }
        };

        async function base64convert (url, split) {
            const data = await fetch(url);
            const blob = await data.blob();
            
            return new Promise(resolve => {
                const reader = new FileReader();
                reader.readAsDataURL(blob);
                reader.onloadend = () => {
                const base64data = reader.result;
                resolve(split ? base64data.split(',')[1] : base64data);
                }    
            });
        }

    </script>
</body>
</html>